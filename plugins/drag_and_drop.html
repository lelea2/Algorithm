<!-- Experiment with drag and drop html5 -->
<!-- Experienced with the following event usages:
    * on drop
    * ondragover
    * ondragstart
    * dataTransfer
    -->
<!DOCTYPE html>
<html>
    <head>
        <title>Drag and drop</title>
        <link rel="stylesheet" type="text/css" href="css/drag_and_drop.css">
    </head>
    <body>
        <!-- Region 1 -->
        <div class="box1"
             ondrop="drop(event)"
             ondragover="allowDrop(event)"
             ondragstart="drag(event)" >
            <div>Box 1</div>
        </div>
        <!-- Region 2 -->
        <div class="box2"
             ondrop="drop(event)"
             ondragover="allowDrop(event)"
             ondragstart="drag(event)">
            <div>Box 2</div>
            <div class="draggable last" id="dragme" draggable="true">Drag Me</div>
            <div class="draggable" id="dragme2" draggable="true">Drag Me</div>
            <div class="draggable" id="dragme3" draggable="true">Drag Me</div>
        </div>
        <script>
        function allowDrop(ev) {
            ev.preventDefault();
        }
        //Usage for dataTransfer: https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer
        function drag(ev) {
            ev.dataTransfer.setData("Text",ev.target.id);
        }
        function drop(ev) { //Drop handling
            ev.preventDefault();
            var lastElement = document.getElementsByClassName('last');
            for (var i=0; i<lastElement.length; i++){
                var elem = lastElement[i];
                elem.className = elem.className.replace('last',"");
            }
            var data = ev.dataTransfer.getData("Text");
            ev.target.appendChild(document.getElementById(data));
            document.getElementById(data).className += " last";
        }
        </script>
    </body>

</html>
