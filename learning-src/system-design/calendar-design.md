- Product Requirement
- Design a calendar management system. 
-- Restaurant
--- Display timeslot for each employee on each day [set static timeslot 9-5]
--- Also have required # of cooks and server per each time slot/per day
--- Collection of employees

-- Employee
--- Availability time slot for each day [[9-11], [11-2]]
--- Employee has role

restaurant_operation
date
time_slot -> start_time - end_time
#_cook_require
#_server_require

restarant_config_job
restaurant_id
periodic

Employee
id
role_id (cook, server)
first_name
last_name

Availablity
id
date
start_time
end_time

Employee_Availability
employee_id 
availablity_id

Work_hours
id
date
start_time
end_time

employee_work_history
employee_id
work_history_id

// Based on a date available => search for # of role_require => employee table with the same date and employee_start_time <= restaurant_start_time && employee_end_time >= restaurant_end_time 
Result => Collection of employee_id that satisty the condition

-- collection.length >= #_required
--- If collection.length > 0 -> load balancing later
-- collection.length < #_required
--- alert system 

Once update based on collection, works_hours and employee_work_history will be updated. 

-- Client --

-- Query restaurant_operation to get date, start_time, end_time, // shift
-- Query work_hours by date, start_time, end_time join employe table for first_name

-------------------------
Client side

- Admin (restaurant_manager)
- Create shift by providing date, start_time, end_time, #_employee_required
- Once it's created, only admin would be able to edit it.
-- 2 ways
--- if #_employee_required changed, can automatically generated by on existing availablity
--- if start_time, end_time change, might need to clear up entry row for existing shift and re-generated

- User (employee)
- once shift is marked, cannot edit shift again.
- Display User schedule and user availability.
-- Schedule is something they cannot edit
-- Avalability: user can edit this
---- Availability edit constraint: 
--- if it passed current date, cannot edit
--- if it intersects with existing work_hour scheduled, cannot edit

-- Offline jobs (queue)
--- Schedule periodically
--- Restaurant owner has the capablity to change this periodic config

User_schedule date, start_time, end_time
Availablity date, start_time, end_time
--- if user_schedule_date === availability_date && schedule_start_time >= availability_start_time && schedule_end_time <= availability_end_time => filter these data out
--- display the remain set of availablity
 